package HistElections;
use strict;
use List::Util qw (reduce any all none notall first max maxstr min minstr product sum sum0 pairs unpairs pairkeys pairvalues pairgrep pairfirst pairmap shuffle uniq uniqnum uniqstr);
use FindBin;
use Exporter qw(import);
our @EXPORT_OK = qw(get_hvals get_parstates check_par check_states get_closedstates get_openstates get_safeval get_swingperm commify sort_states delete_mainenebraska build_mat result_mat);

sub get_histvalues {
  my %AK = (
    2028 => 3,
    2024 => 3,
    2020 => 3,
    2016 => 3,
    2012 => 3,
    2008 => 3,
    2004 => 3,
    2000 => 3,
    1996 => 3,
    1992 => 3,
    1988 => 3,
    1984 => 3,
    1980 => 3,
    1976 => 3,
    1972 => 3,
    1968 => 3,
    1964 => 3,
    1960 => 3
  );
  my %AL = (
    2028 => 9,
    2024 => 9,
    2020 => 9,
    2016 => 9,
    2012 => 9,
    2008 => 9,
    2004 => 9,
    2000 => 9,
    1996 => 9,
    1992 => 9,
    1988 => 9,
    1984 => 9,
    1980 => 9,
    1976 => 9,
    1972 => 9,
    1968 => 10,
    1964 => 10,
    1960 => 11,
    1956 => 11,
    1952 => 11,
    1948 => 11,
    1944 => 11,
    1940 => 11,
    1936 => 11,
    1932 => 11,
    1928 => 12,
    1924 => 12,
    1920 => 12,
    1916 => 12,
    1912 => 12,
    1908 => 11,
    1904 => 11,
    1900 => 11,
    1896 => 11,
    1892 => 11,
    1888 => 10,
    1884 => 10,
    1880 => 10,
    1876 => 10,
    1872 => 10,
    1868 => 8,
    1860 => 9,
    1856 => 9,
    1852 => 9,
    1848 => 9,
    1844 => 9,
    1840 => 7,
    1836 => 7,
    1832 => 7,
    1828 => 5,
    1824 => 5,
    1820 => 3
  );
  my %AR = (
    2028 => 6,
    2024 => 6,
    2020 => 6,
    2016 => 6,
    2012 => 6,
    2008 => 6,
    2004 => 6,
    2000 => 6,
    1996 => 6,
    1992 => 6,
    1988 => 6,
    1984 => 6,
    1980 => 6,
    1976 => 6,
    1972 => 6,
    1968 => 6,
    1964 => 6,
    1960 => 8,
    1956 => 8,
    1952 => 8,
    1948 => 9,
    1944 => 9,
    1940 => 9,
    1936 => 9,
    1932 => 9,
    1928 => 9,
    1924 => 9,
    1920 => 9,
    1916 => 9,
    1912 => 9,
    1908 => 9,
    1904 => 9,
    1900 => 8,
    1896 => 8,
    1892 => 8,
    1888 => 7,
    1884 => 7,
    1880 => 6,
    1876 => 6,
    1872 => 6,
    1868 => 5,
    1860 => 4,
    1856 => 4,
    1852 => 4,
    1848 => 3,
    1844 => 3,
    1840 => 3,
    1836 => 3,
  );
  my %AZ = (
    2028 => 11,
    2024 => 11,
    2020 => 11,
    2016 => 11,
    2012 => 11,
    2008 => 10,
    2004 => 10,
    2000 => 8,
    1996 => 8,
    1992 => 8,
    1988 => 7,
    1984 => 7,
    1980 => 6,
    1976 => 6,
    1972 => 6,
    1968 => 5,
    1964 => 5,
    1960 => 4,
    1956 => 4,
    1952 => 4,
    1948 => 4,
    1944 => 4,
    1940 => 3,
    1936 => 3,
    1932 => 3,
    1928 => 3,
    1924 => 3,
    1920 => 3,
    1916 => 3,
    1912 => 3
  );
  my %CA = (
    2028 => 54,
    2024 => 54,
    2020 => 55,
    2016 => 55,
    2012 => 55,
    2008 => 55,
    2004 => 55,
    2000 => 54,
    1996 => 54,
    1992 => 54,
    1988 => 47,
    1984 => 47,
    1980 => 45,
    1976 => 45,
    1972 => 45,
    1968 => 40,
    1964 => 40,
    1960 => 32,
    1956 => 32,
    1952 => 32,
    1948 => 25,
    1944 => 25,
    1940 => 22,
    1936 => 22,
    1932 => 22,
    1928 => 13,
    1924 => 13,
    1920 => 13,
    1916 => 13,
    1912 => 13,
    1908 => 10,
    1904 => 10,
    1900 => 9,
    1896 => 9,
    1892 => 9,
    1888 => 8,
    1884 => 8,
    1880 => 6,
    1876 => 6,
    1872 => 6,
    1868 => 5,
    1864 => 5,
    1860 => 4,
    1856 => 4,
    1852 => 4
  );
  my %CO = (
    2028 => 10,
    2024 => 10,
    2020 => 9,
    2016 => 9,
    2012 => 9,
    2008 => 9,
    2004 => 9,
    2000 => 8,
    1996 => 8,
    1992 => 8,
    1988 => 8,
    1984 => 8,
    1980 => 7,
    1976 => 7,
    1972 => 7,
    1968 => 6,
    1964 => 6,
    1960 => 6,
    1956 => 6,
    1952 => 6,
    1948 => 6,
    1944 => 6,
    1940 => 6,
    1936 => 6,
    1932 => 6,
    1928 => 6,
    1924 => 6,
    1920 => 6,
    1916 => 6,
    1912 => 6,
    1908 => 5,
    1904 => 5,
    1900 => 4,
    1896 => 4,
    1892 => 4,
    1888 => 3,
    1884 => 3,
    1880 => 3,
    1876 => 3
  );
  my %CT = (
    2028 => 7,
    2024 => 7,
    2020 => 7,
    2016 => 7,
    2012 => 7,
    2008 => 7,
    2004 => 7,
    2000 => 8,
    1996 => 8,
    1992 => 8,
    1988 => 8,
    1984 => 8,
    1980 => 8,
    1976 => 8,
    1972 => 8,
    1968 => 8,
    1964 => 8,
    1960 => 8,
    1956 => 8,
    1952 => 8,
    1948 => 8,
    1944 => 8,
    1940 => 8,
    1936 => 8,
    1932 => 8,
    1928 => 7,
    1924 => 7,
    1920 => 7,
    1916 => 7,
    1912 => 7,
    1908 => 7,
    1904 => 7,
    1900 => 6,
    1896 => 6,
    1892 => 6,
    1888 => 6,
    1884 => 6,
    1880 => 6,
    1876 => 6,
    1872 => 6,
    1868 => 6,
    1864 => 6,
    1860 => 6,
    1856 => 6,
    1852 => 6,
    1848 => 6,
    1844 => 6,
    1840 => 8,
    1836 => 8,
    1832 => 8,
    1828 => 8,
    1824 => 8,
    1820 => 9,
    1816 => 9,
    1812 => 9,
    1808 => 9,
    1804 => 9,
    1800 => 9,
    1796 => 9,
    1792 => 9,
    1788 => 7
  );
  my %DC = (
    2028 => 3,
    2024 => 3,
    2020 => 3,
    2016 => 3,
    2012 => 3,
    2008 => 3,
    2004 => 3,
    2000 => 3,
    1996 => 3,
    1992 => 3,
    1988 => 3,
    1984 => 3,
    1980 => 3,
    1976 => 3,
    1972 => 3,
    1968 => 3,
    1964 => 3
  );
  my %DE = (
    2028 => 3,
    2024 => 3,
    2020 => 3,
    2016 => 3,
    2012 => 3,
    2008 => 3,
    2004 => 3,
    2000 => 3,
    1996 => 3,
    1992 => 3,
    1988 => 3,
    1984 => 3,
    1980 => 3,
    1976 => 3,
    1972 => 3,
    1968 => 3,
    1964 => 3,
    1960 => 3,
    1956 => 3,
    1952 => 3,
    1948 => 3,
    1944 => 3,
    1940 => 3,
    1936 => 3,
    1932 => 3,
    1928 => 3,
    1924 => 3,
    1920 => 3,
    1916 => 3,
    1912 => 3,
    1908 => 3,
    1904 => 3,
    1900 => 3,
    1896 => 3,
    1892 => 3,
    1888 => 3,
    1884 => 3,
    1880 => 3,
    1876 => 3,
    1872 => 3,
    1868 => 3,
    1864 => 3,
    1860 => 3,
    1856 => 3,
    1852 => 3,
    1848 => 3,
    1844 => 3,
    1840 => 3,
    1836 => 3,
    1832 => 3,
    1828 => 3,
    1824 => 3,
    1820 => 4,
    1816 => 4,
    1812 => 4,
    1808 => 3,
    1804 => 3,
    1800 => 3,
    1796 => 3,
    1792 => 3,
    1788 => 3
  );
  my %FL = (
    2028 => 30,
    2024 => 30,
    2020 => 29,
    2016 => 29,
    2012 => 29,
    2008 => 27,
    2004 => 27,
    2000 => 25,
    1996 => 25,
    1992 => 25,
    1988 => 21,
    1984 => 21,
    1980 => 17,
    1976 => 17,
    1972 => 17,
    1968 => 14,
    1964 => 14,
    1960 => 10,
    1956 => 10,
    1952 => 10,
    1948 => 8,
    1944 => 8,
    1940 => 7,
    1936 => 7,
    1932 => 7,
    1928 => 6,
    1924 => 6,
    1920 => 6,
    1916 => 6,
    1912 => 6,
    1908 => 5,
    1904 => 5,
    1900 => 4,
    1896 => 4,
    1892 => 4,
    1888 => 4,
    1884 => 4,
    1880 => 4,
    1876 => 4,
    1872 => 4,
    1868 => 3,
    1860 => 3,
    1856 => 3,
    1852 => 3,
    1848 => 3
  );
  my %GA = (
    2028 => 16,
    2024 => 16,
    2020 => 16,
    2016 => 16,
    2012 => 16,
    2008 => 15,
    2004 => 15,
    2000 => 13,
    1996 => 13,
    1992 => 13,
    1988 => 12,
    1984 => 12,
    1980 => 12,
    1976 => 12,
    1972 => 12,
    1968 => 12,
    1964 => 12,
    1960 => 12,
    1956 => 12,
    1952 => 12,
    1948 => 12,
    1944 => 12,
    1940 => 12,
    1936 => 12,
    1932 => 12,
    1928 => 14,
    1924 => 14,
    1920 => 14,
    1916 => 14,
    1912 => 14,
    1908 => 13,
    1904 => 13,
    1900 => 13,
    1896 => 13,
    1892 => 13,
    1888 => 12,
    1884 => 12,
    1880 => 11,
    1876 => 11,
    1872 => 11,
    1868 => 9,
    1860 => 10,
    1856 => 10,
    1852 => 10,
    1848 => 10,
    1844 => 10,
    1840 => 11,
    1836 => 11,
    1832 => 11,
    1828 => 9,
    1824 => 9,
    1820 => 8,
    1816 => 8,
    1812 => 8,
    1808 => 6,
    1804 => 6,
    1800 => 4,
    1796 => 4,
    1792 => 4,
    1788 => 5
  );
  my %HI = (
    2028 => 4,
    2024 => 4,
    2020 => 4,
    2016 => 4,
    2012 => 4,
    2008 => 4,
    2004 => 4,
    2000 => 4,
    1996 => 4,
    1992 => 4,
    1988 => 4,
    1984 => 4,
    1980 => 4,
    1976 => 4,
    1972 => 4,
    1968 => 4,
    1964 => 4,
    1960 => 3
  );
  my %IA = (
    2028 => 6,
    2024 => 6,
    2020 => 6,
    2016 => 6,
    2012 => 6,
    2008 => 7,
    2004 => 7,
    2000 => 7,
    1996 => 7,
    1992 => 7,
    1988 => 8,
    1984 => 8,
    1980 => 8,
    1976 => 8,
    1972 => 8,
    1968 => 9,
    1964 => 9,
    1960 => 10,
    1956 => 10,
    1952 => 10,
    1948 => 10,
    1944 => 10,
    1940 => 11,
    1936 => 11,
    1932 => 11,
    1928 => 13,
    1924 => 13,
    1920 => 13,
    1916 => 13,
    1912 => 13,
    1908 => 13,
    1904 => 13,
    1900 => 13,
    1896 => 13,
    1892 => 13,
    1888 => 13,
    1884 => 13,
    1880 => 11,
    1876 => 11,
    1872 => 11,
    1868 => 8,
    1864 => 8,
    1860 => 4,
    1856 => 4,
    1852 => 4,
    1848 => 4
  );
  my %ID = (
    2028 => 4,
    2024 => 4,
    2020 => 4,
    2016 => 4,
    2012 => 4,
    2008 => 4,
    2004 => 4,
    2000 => 4,
    1996 => 4,
    1992 => 4,
    1988 => 4,
    1984 => 4,
    1980 => 4,
    1976 => 4,
    1972 => 4,
    1968 => 4,
    1964 => 4,
    1960 => 4,
    1956 => 4,
    1952 => 4,
    1948 => 4,
    1944 => 4,
    1940 => 4,
    1936 => 4,
    1932 => 4,
    1928 => 4,
    1924 => 4,
    1920 => 4,
    1916 => 4,
    1912 => 4,
    1908 => 3,
    1904 => 3,
    1900 => 3,
    1896 => 3,
    1892 => 3
  );
  my %IL = (
    2028 => 19,
    2024 => 19,
    2020 => 20,
    2016 => 20,
    2012 => 20,
    2008 => 21,
    2004 => 21,
    2000 => 22,
    1996 => 22,
    1992 => 22,
    1988 => 24,
    1984 => 24,
    1980 => 26,
    1976 => 26,
    1972 => 26,
    1968 => 26,
    1964 => 26,
    1960 => 27,
    1956 => 27,
    1952 => 27,
    1948 => 28,
    1944 => 28,
    1940 => 29,
    1936 => 29,
    1932 => 29,
    1928 => 29,
    1924 => 29,
    1920 => 29,
    1916 => 29,
    1912 => 29,
    1908 => 27,
    1904 => 27,
    1900 => 24,
    1896 => 24,
    1892 => 24,
    1888 => 22,
    1884 => 22,
    1880 => 21,
    1876 => 21,
    1872 => 21,
    1868 => 16,
    1864 => 16,
    1860 => 11,
    1856 => 11,
    1852 => 11,
    1848 => 9,
    1844 => 9,
    1840 => 5,
    1836 => 5,
    1832 => 5,
    1828 => 3,
    1824 => 3,
    1820 => 3
  );
  my %IN = (
    2028 => 11,
    2024 => 11,
    2020 => 11,
    2016 => 11,
    2012 => 11,
    2008 => 11,
    2004 => 11,
    2000 => 12,
    1996 => 12,
    1992 => 12,
    1988 => 12,
    1984 => 12,
    1980 => 13,
    1976 => 13,
    1972 => 13,
    1968 => 13,
    1964 => 13,
    1960 => 13,
    1956 => 13,
    1952 => 13,
    1948 => 13,
    1944 => 13,
    1940 => 14,
    1936 => 14,
    1932 => 14,
    1928 => 15,
    1924 => 15,
    1920 => 15,
    1916 => 15,
    1912 => 15,
    1908 => 15,
    1904 => 15,
    1900 => 15,
    1896 => 15,
    1892 => 15,
    1888 => 15,
    1884 => 15,
    1880 => 15,
    1876 => 15,
    1872 => 15,
    1868 => 13,
    1864 => 13,
    1860 => 13,
    1856 => 13,
    1852 => 13,
    1848 => 12,
    1844 => 12,
    1840 => 9,
    1836 => 9,
    1832 => 9,
    1828 => 5,
    1824 => 5,
    1820 => 3,
    1816 => 3
  );
  my %KS = (
    2028 => 6,
    2024 => 6,
    2020 => 6,
    2016 => 6,
    2012 => 6,
    2008 => 6,
    2004 => 6,
    2000 => 6,
    1996 => 6,
    1992 => 6,
    1988 => 7,
    1984 => 7,
    1980 => 7,
    1976 => 7,
    1972 => 7,
    1968 => 7,
    1964 => 7,
    1960 => 8,
    1956 => 8,
    1952 => 8,
    1948 => 8,
    1944 => 8,
    1940 => 9,
    1936 => 9,
    1932 => 9,
    1928 => 10,
    1924 => 10,
    1920 => 10,
    1916 => 10,
    1912 => 10,
    1908 => 10,
    1904 => 10,
    1900 => 10,
    1896 => 10,
    1892 => 10,
    1888 => 9,
    1884 => 9,
    1880 => 5,
    1876 => 5,
    1872 => 5,
    1868 => 3,
    1864 => 3
  );
  my %KY = (
    2028 => 8,
    2024 => 8,
    2020 => 8,
    2016 => 8,
    2012 => 8,
    2008 => 8,
    2004 => 8,
    2000 => 8,
    1996 => 8,
    1992 => 8,
    1988 => 9,
    1984 => 9,
    1980 => 9,
    1976 => 9,
    1972 => 9,
    1968 => 9,
    1964 => 9,
    1960 => 10,
    1956 => 10,
    1952 => 10,
    1948 => 11,
    1944 => 11,
    1940 => 11,
    1936 => 11,
    1932 => 11,
    1928 => 13,
    1924 => 13,
    1920 => 13,
    1916 => 13,
    1912 => 13,
    1908 => 13,
    1904 => 13,
    1900 => 13,
    1896 => 13,
    1892 => 13,
    1888 => 13,
    1884 => 13,
    1880 => 12,
    1876 => 12,
    1872 => 12,
    1868 => 11,
    1864 => 11,
    1860 => 12,
    1856 => 12,
    1852 => 12,
    1848 => 12,
    1844 => 12,
    1840 => 15,
    1836 => 15,
    1832 => 15,
    1828 => 14,
    1824 => 14,
    1820 => 12,
    1816 => 12,
    1812 => 12,
    1808 => 8,
    1804 => 8,
    1800 => 4,
    1796 => 4,
    1792 => 4
  );
  my %LA = (
    2028 => 8,
    2024 => 8,
    2020 => 8,
    2016 => 8,
    2012 => 8,
    2008 => 9,
    2004 => 9,
    2000 => 9,
    1996 => 9,
    1992 => 9,
    1988 => 10,
    1984 => 10,
    1980 => 10,
    1976 => 10,
    1972 => 10,
    1968 => 10,
    1964 => 10,
    1960 => 10,
    1956 => 10,
    1952 => 10,
    1948 => 10,
    1944 => 10,
    1940 => 10,
    1936 => 10,
    1932 => 10,
    1928 => 10,
    1924 => 10,
    1920 => 10,
    1916 => 10,
    1912 => 10,
    1908 => 9,
    1904 => 9,
    1900 => 8,
    1896 => 8,
    1892 => 8,
    1888 => 8,
    1884 => 8,
    1880 => 8,
    1876 => 8,
    1872 => 8,
    1868 => 7,
    1860 => 6,
    1856 => 6,
    1852 => 6,
    1848 => 6,
    1844 => 6,
    1840 => 5,
    1836 => 5,
    1832 => 5,
    1828 => 5,
    1824 => 5,
    1820 => 3,
    1816 => 3,
    1812 => 3
  );
  my %MA = (
    2028 => 11,
    2024 => 11,
    2020 => 11,
    2016 => 11,
    2012 => 11,
    2008 => 12,
    2004 => 12,
    2000 => 12,
    1996 => 12,
    1992 => 12,
    1988 => 13,
    1984 => 13,
    1980 => 14,
    1976 => 14,
    1972 => 14,
    1968 => 14,
    1964 => 14,
    1960 => 16,
    1956 => 16,
    1952 => 16,
    1948 => 16,
    1944 => 16,
    1940 => 17,
    1936 => 17,
    1932 => 17,
    1928 => 18,
    1924 => 18,
    1920 => 18,
    1916 => 18,
    1912 => 18,
    1908 => 16,
    1904 => 16,
    1900 => 15,
    1896 => 15,
    1892 => 15,
    1888 => 14,
    1884 => 14,
    1880 => 13,
    1876 => 13,
    1872 => 13,
    1868 => 12,
    1864 => 12,
    1860 => 13,
    1856 => 13,
    1852 => 13,
    1848 => 12,
    1844 => 12,
    1840 => 14,
    1836 => 14,
    1832 => 14,
    1828 => 15,
    1824 => 15,
    1820 => 15,
    1816 => 22,
    1812 => 22,
    1808 => 19,
    1804 => 19,
    1800 => 16,
    1796 => 16,
    1792 => 16,
    1788 => 10
  );
  my %MD = (
    2028 => 10,
    2024 => 10,
    2020 => 10,
    2016 => 10,
    2012 => 10,
    2008 => 10,
    2004 => 10,
    2000 => 10,
    1996 => 10,
    1992 => 10,
    1988 => 10,
    1984 => 10,
    1980 => 10,
    1976 => 10,
    1972 => 10,
    1968 => 10,
    1964 => 10,
    1960 => 9,
    1956 => 9,
    1952 => 9,
    1948 => 8,
    1944 => 8,
    1940 => 8,
    1936 => 8,
    1932 => 8,
    1928 => 8,
    1924 => 8,
    1920 => 8,
    1916 => 8,
    1912 => 8,
    1908 => 8,
    1904 => 8,
    1900 => 8,
    1896 => 8,
    1892 => 8,
    1888 => 8,
    1884 => 8,
    1880 => 8,
    1876 => 8,
    1872 => 8,
    1868 => 7,
    1864 => 7,
    1860 => 8,
    1856 => 8,
    1852 => 8,
    1848 => 8,
    1844 => 8,
    1840 => 10,
    1836 => 10,
    1832 => 10,
    1828 => 11,
    1824 => 11,
    1820 => 11,
    1816 => 11,
    1812 => 11,
    1808 => 11,
    1804 => 11,
    1800 => 10,
    1796 => 10,
    1792 => 10,
    1788 => 8
  );
  my %ME = (
    2028 => 2,
    2024 => 2,
    2020 => 2,
    2016 => 2,
    2012 => 2,
    2008 => 2,
    2004 => 2,
    2000 => 2,
    1996 => 2,
    1992 => 2,
    1988 => 2,
    1984 => 2,
    1980 => 2,
    1976 => 2,
    1972 => 2,
    1968 => 4,
    1964 => 4,
    1960 => 5,
    1956 => 5,
    1952 => 5,
    1948 => 5,
    1944 => 5,
    1940 => 5,
    1936 => 5,
    1932 => 5,
    1928 => 6,
    1924 => 6,
    1920 => 6,
    1916 => 6,
    1912 => 6,
    1908 => 6,
    1904 => 6,
    1900 => 6,
    1896 => 6,
    1892 => 6,
    1888 => 6,
    1884 => 6,
    1880 => 7,
    1876 => 7,
    1872 => 7,
    1868 => 7,
    1864 => 7,
    1860 => 8,
    1856 => 8,
    1852 => 8,
    1848 => 9,
    1844 => 9,
    1840 => 10,
    1836 => 10,
    1832 => 10,
    1828 => 9,
    1824 => 9,
    1820 => 9
  );
  my %ME1 = (
    2028 => 1,
    2024 => 1,
    2020 => 1,
    2016 => 1,
    2012 => 1,
    2008 => 1,
    2004 => 1,
    2000 => 1,
    1996 => 1,
    1992 => 1,
    1988 => 1,
    1984 => 1,
    1980 => 1,
    1976 => 1,
    1972 => 1
  );
  my %ME2 = (
    2028 => 1,
    2024 => 1,
    2020 => 1,
    2016 => 1,
    2012 => 1,
    2008 => 1,
    2004 => 1,
    2000 => 1,
    1996 => 1,
    1992 => 1,
    1988 => 1,
    1984 => 1,
    1980 => 1,
    1976 => 1,
    1972 => 1
  );
  my %MI = (
    2028 => 15,
    2024 => 15,
    2020 => 16,
    2016 => 16,
    2012 => 16,
    2008 => 17,
    2004 => 17,
    2000 => 18,
    1996 => 18,
    1992 => 18,
    1988 => 20,
    1984 => 20,
    1980 => 21,
    1976 => 21,
    1972 => 21,
    1968 => 21,
    1964 => 21,
    1960 => 20,
    1956 => 20,
    1952 => 20,
    1948 => 19,
    1944 => 19,
    1940 => 19,
    1936 => 19,
    1932 => 19,
    1928 => 15,
    1924 => 15,
    1920 => 15,
    1916 => 15,
    1912 => 15,
    1908 => 14,
    1904 => 14,
    1900 => 14,
    1896 => 14,
    1892 => 14,
    1888 => 13,
    1884 => 13,
    1880 => 11,
    1876 => 11,
    1872 => 11,
    1868 => 8,
    1864 => 8,
    1860 => 6,
    1856 => 6,
    1852 => 6,
    1848 => 5,
    1844 => 5,
    1840 => 3,
    1836 => 3
  );
  my %MN = (
    2028 => 10,
    2024 => 10,
    2020 => 10,
    2016 => 10,
    2012 => 10,
    2008 => 10,
    2004 => 10,
    2000 => 10,
    1996 => 10,
    1992 => 10,
    1988 => 10,
    1984 => 10,
    1980 => 10,
    1976 => 10,
    1972 => 10,
    1968 => 10,
    1964 => 10,
    1960 => 11,
    1956 => 11,
    1952 => 11,
    1948 => 11,
    1944 => 11,
    1940 => 11,
    1936 => 11,
    1932 => 11,
    1928 => 12,
    1924 => 12,
    1920 => 12,
    1916 => 12,
    1912 => 12,
    1908 => 11,
    1904 => 11,
    1900 => 9,
    1896 => 9,
    1892 => 9,
    1888 => 7,
    1884 => 7,
    1880 => 5,
    1876 => 5,
    1872 => 5,
    1868 => 4,
    1864 => 4,
    1860 => 4
  );
  my %MO = (
    2028 => 10,
    2024 => 10,
    2020 => 10,
    2016 => 10,
    2012 => 10,
    2008 => 11,
    2004 => 11,
    2000 => 11,
    1996 => 11,
    1992 => 11,
    1988 => 11,
    1984 => 11,
    1980 => 12,
    1976 => 12,
    1972 => 12,
    1968 => 12,
    1964 => 12,
    1960 => 13,
    1956 => 13,
    1952 => 13,
    1948 => 15,
    1944 => 15,
    1940 => 15,
    1936 => 15,
    1932 => 15,
    1928 => 18,
    1924 => 18,
    1920 => 18,
    1916 => 18,
    1912 => 18,
    1908 => 18,
    1904 => 18,
    1900 => 17,
    1896 => 17,
    1892 => 17,
    1888 => 16,
    1884 => 16,
    1880 => 15,
    1876 => 15,
    1872 => 15,
    1868 => 11,
    1864 => 11,
    1860 => 9,
    1856 => 9,
    1852 => 9,
    1848 => 7,
    1844 => 7,
    1840 => 4,
    1836 => 4,
    1832 => 4,
    1828 => 3,
    1824 => 3,
    1820 => 3
  );
  my %MS = (
    2028 => 6,
    2024 => 6,
    2020 => 6,
    2016 => 6,
    2012 => 6,
    2008 => 6,
    2004 => 6,
    2000 => 7,
    1996 => 7,
    1992 => 7,
    1988 => 7,
    1984 => 7,
    1980 => 7,
    1976 => 7,
    1972 => 7,
    1968 => 7,
    1964 => 7,
    1960 => 8,
    1956 => 8,
    1952 => 8,
    1948 => 9,
    1944 => 9,
    1940 => 9,
    1936 => 9,
    1932 => 9,
    1928 => 10,
    1924 => 10,
    1920 => 10,
    1916 => 10,
    1912 => 10,
    1908 => 10,
    1904 => 10,
    1900 => 9,
    1896 => 9,
    1892 => 9,
    1888 => 9,
    1884 => 9,
    1880 => 8,
    1876 => 8,
    1872 => 8,
    1860 => 7,
    1856 => 7,
    1852 => 7,
    1848 => 6,
    1844 => 6,
    1840 => 4,
    1836 => 4,
    1832 => 4,
    1828 => 3,
    1824 => 3,
    1820 => 3
  );
  my %MT = (
    2028 => 4,
    2024 => 4,
    2020 => 3,
    2016 => 3,
    2012 => 3,
    2008 => 3,
    2004 => 3,
    2000 => 3,
    1996 => 3,
    1992 => 3,
    1988 => 4,
    1984 => 4,
    1980 => 4,
    1976 => 4,
    1972 => 4,
    1968 => 4,
    1964 => 4,
    1960 => 4,
    1956 => 4,
    1952 => 4,
    1948 => 4,
    1944 => 4,
    1940 => 4,
    1936 => 4,
    1932 => 4,
    1928 => 4,
    1924 => 4,
    1920 => 4,
    1916 => 4,
    1912 => 4,
    1908 => 3,
    1904 => 3,
    1900 => 3,
    1896 => 3,
    1892 => 3
  );
  my %NC = (
    2028 => 16,
    2024 => 16,
    2020 => 15,
    2016 => 15,
    2012 => 15,
    2008 => 15,
    2004 => 15,
    2000 => 14,
    1996 => 14,
    1992 => 14,
    1988 => 13,
    1984 => 13,
    1980 => 13,
    1976 => 13,
    1972 => 13,
    1968 => 13,
    1964 => 13,
    1960 => 14,
    1956 => 14,
    1952 => 14,
    1948 => 14,
    1944 => 14,
    1940 => 13,
    1936 => 13,
    1932 => 13,
    1928 => 12,
    1924 => 12,
    1920 => 12,
    1916 => 12,
    1912 => 12,
    1908 => 12,
    1904 => 12,
    1900 => 11,
    1896 => 11,
    1892 => 11,
    1888 => 11,
    1884 => 11,
    1880 => 10,
    1876 => 10,
    1872 => 10,
    1868 => 9,
    1860 => 10,
    1856 => 10,
    1852 => 10,
    1848 => 11,
    1844 => 11,
    1840 => 15,
    1836 => 15,
    1832 => 15,
    1828 => 15,
    1824 => 15,
    1820 => 15,
    1816 => 15,
    1812 => 15,
    1808 => 14,
    1804 => 14,
    1800 => 12,
    1796 => 12,
    1792 => 12
  );
  my %ND = (
    2028 => 3,
    2024 => 3,
    2020 => 3,
    2016 => 3,
    2012 => 3,
    2008 => 3,
    2004 => 3,
    2000 => 3,
    1996 => 3,
    1992 => 3,
    1988 => 3,
    1984 => 3,
    1980 => 3,
    1976 => 3,
    1972 => 3,
    1968 => 4,
    1964 => 4,
    1960 => 4,
    1956 => 4,
    1952 => 4,
    1948 => 4,
    1944 => 4,
    1940 => 4,
    1936 => 4,
    1932 => 4,
    1928 => 5,
    1924 => 5,
    1920 => 5,
    1916 => 5,
    1912 => 5,
    1908 => 4,
    1904 => 4,
    1900 => 3,
    1896 => 3,
    1892 => 3
  );
  my %NE = (
    2028 => 2,
    2024 => 2,
    2020 => 2,
    2016 => 2,
    2012 => 2,
    2008 => 2,
    2004 => 2,
    2000 => 2,
    1996 => 2,
    1992 => 2,
    1988 => 5,
    1984 => 5,
    1980 => 5,
    1976 => 5,
    1972 => 5,
    1968 => 5,
    1964 => 5,
    1960 => 6,
    1956 => 6,
    1952 => 6,
    1948 => 6,
    1944 => 6,
    1940 => 7,
    1936 => 7,
    1932 => 7,
    1928 => 8,
    1924 => 8,
    1920 => 8,
    1916 => 8,
    1912 => 8,
    1908 => 8,
    1904 => 8,
    1900 => 8,
    1896 => 8,
    1892 => 8,
    1888 => 5,
    1884 => 5,
    1880 => 3,
    1876 => 3,
    1872 => 3,
    1868 => 3
  );
  my %NE1 = (
    2028 => 1,
    2024 => 1,
    2020 => 1,
    2016 => 1,
    2012 => 1,
    2008 => 1,
    2004 => 1,
    2000 => 1,
    1996 => 1,
    1992 => 1
  );
  my %NE2 = (
    2028 => 1,
    2024 => 1,
    2020 => 1,
    2016 => 1,
    2012 => 1,
    2008 => 1,
    2004 => 1,
    2000 => 1,
    1996 => 1,
    1992 => 1
  );
  my %NE3 = (
    2028 => 1,
    2024 => 1,
    2020 => 1,
    2016 => 1,
    2012 => 1,
    2008 => 1,
    2004 => 1,
    2000 => 1,
    1996 => 1,
    1992 => 1
  );
  my %NH = (
    2028 => 4,
    2024 => 4,
    2020 => 4,
    2016 => 4,
    2012 => 4,
    2008 => 4,
    2004 => 4,
    2008 => 4,
    2004 => 4,
    2000 => 4,
    1996 => 4,
    1992 => 4,
    1988 => 4,
    1994 => 4,
    1990 => 4,
    1988 => 4,
    1984 => 4,
    1980 => 4,
    1976 => 4,
    1972 => 4,
    1968 => 4,
    1964 => 4,
    1960 => 4,
    1956 => 4,
    1952 => 4,
    1948 => 4,
    1944 => 4,
    1940 => 4,
    1936 => 4,
    1932 => 4,
    1928 => 4,
    1924 => 4,
    1920 => 4,
    1916 => 4,
    1912 => 4,
    1908 => 4,
    1904 => 4,
    1900 => 4,
    1896 => 4,
    1892 => 4,
    1888 => 4,
    1884 => 4,
    1880 => 5,
    1876 => 5,
    1872 => 5,
    1868 => 5,
    1864 => 5,
    1860 => 5,
    1856 => 5,
    1852 => 5,
    1848 => 6,
    1844 => 6,
    1840 => 7,
    1836 => 7,
    1832 => 7,
    1828 => 8,
    1824 => 8,
    1820 => 8,
    1816 => 8,
    1812 => 8,
    1808 => 7,
    1804 => 7,
    1800 => 6,
    1796 => 6,
    1792 => 6,
    1788 => 5
  );
  my %NJ = (
    2028 => 14,
    2024 => 14,
    2020 => 14,
    2016 => 14,
    2012 => 14,
    2008 => 15,
    2004 => 15,
    2000 => 15,
    1996 => 15,
    1992 => 15,
    1988 => 16,
    1984 => 16,
    1980 => 17,
    1976 => 17,
    1972 => 17,
    1968 => 17,
    1964 => 17,
    1960 => 16,
    1956 => 16,
    1952 => 16,
    1948 => 16,
    1944 => 16,
    1940 => 16,
    1936 => 16,
    1932 => 16,
    1928 => 14,
    1924 => 14,
    1920 => 14,
    1916 => 14,
    1912 => 14,
    1908 => 12,
    1904 => 12,
    1900 => 10,
    1896 => 10,
    1892 => 10,
    1888 => 9,
    1884 => 9,
    1880 => 9,
    1876 => 9,
    1872 => 9,
    1868 => 7,
    1864 => 7,
    1860 => 7,
    1856 => 7,
    1852 => 7,
    1848 => 7,
    1844 => 7,
    1840 => 8,
    1836 => 8,
    1832 => 8,
    1828 => 8,
    1824 => 8,
    1820 => 8,
    1816 => 8,
    1812 => 8,
    1808 => 8,
    1804 => 8,
    1800 => 7,
    1796 => 7,
    1792 => 7,
    1788 => 6
  );
  my %NM = (
    2028 => 5,
    2024 => 5,
    2020 => 5,
    2016 => 5,
    2012 => 5,
    2008 => 5,
    2004 => 5,
    2000 => 5,
    1996 => 5,
    1992 => 5,
    1988 => 5,
    1984 => 5,
    1980 => 4,
    1976 => 4,
    1972 => 4,
    1968 => 4,
    1964 => 4,
    1960 => 4,
    1956 => 4,
    1952 => 4,
    1948 => 4,
    1944 => 4,
    1940 => 3,
    1936 => 3,
    1932 => 3,
    1928 => 3,
    1924 => 3,
    1920 => 3,
    1916 => 3,
    1912 => 3
  );
  my %NV = (
    2028 => 6,
    2024 => 6,
    2020 => 6,
    2016 => 6,
    2012 => 6,
    2008 => 5,
    2004 => 5,
    2000 => 4,
    1996 => 4,
    1992 => 4,
    1988 => 4,
    1984 => 4,
    1980 => 3,
    1976 => 3,
    1972 => 3,
    1968 => 3,
    1964 => 3,
    1960 => 3,
    1956 => 3,
    1952 => 3,
    1948 => 3,
    1944 => 3,
    1940 => 3,
    1936 => 3,
    1932 => 3,
    1928 => 3,
    1924 => 3,
    1920 => 3,
    1916 => 3,
    1912 => 3,
    1908 => 3,
    1904 => 3,
    1900 => 3,
    1896 => 3,
    1892 => 3,
    1888 => 3,
    1884 => 3,
    1880 => 3,
    1876 => 3,
    1872 => 3,
    1868 => 3,
    1864 => 3
  );
  my %NY = (
    2028 => 28,
    2024 => 28,
    2020 => 29,
    2016 => 29,
    2012 => 29,
    2008 => 31,
    2004 => 31,
    2000 => 33,
    1996 => 33,
    1992 => 33,
    1988 => 36,
    1984 => 36,
    1980 => 41,
    1976 => 41,
    1972 => 41,
    1968 => 43,
    1964 => 43,
    1960 => 45,
    1956 => 45,
    1952 => 45,
    1948 => 47,
    1944 => 47,
    1940 => 47,
    1936 => 47,
    1932 => 47,
    1928 => 45,
    1924 => 45,
    1920 => 45,
    1916 => 45,
    1912 => 45,
    1908 => 39,
    1904 => 39,
    1900 => 36,
    1896 => 36,
    1892 => 36,
    1888 => 36,
    1884 => 36,
    1880 => 35,
    1876 => 35,
    1872 => 35,
    1868 => 33,
    1864 => 33,
    1860 => 35,
    1856 => 35,
    1852 => 35,
    1848 => 36,
    1844 => 36,
    1840 => 42,
    1836 => 42,
    1832 => 42,
    1828 => 36,
    1824 => 36,
    1820 => 29,
    1816 => 29,
    1812 => 29,
    1808 => 19,
    1804 => 19,
    1800 => 12,
    1796 => 12,
    1792 => 12,
    1788 => 8
  );
  my %OH = (
    2028 => 17,
    2024 => 17,
    2020 => 18,
    2016 => 18,
    2012 => 18,
    2008 => 20,
    2004 => 20,
    2000 => 21,
    1996 => 21,
    1992 => 21,
    1988 => 23,
    1984 => 23,
    1980 => 25,
    1976 => 25,
    1972 => 25,
    1968 => 26,
    1964 => 26,
    1960 => 25,
    1956 => 25,
    1952 => 25,
    1948 => 25,
    1944 => 25,
    1940 => 26,
    1936 => 26,
    1932 => 26,
    1928 => 24,
    1924 => 24,
    1920 => 24,
    1916 => 24,
    1912 => 24,
    1908 => 23,
    1904 => 23,
    1900 => 23,
    1896 => 23,
    1892 => 23,
    1888 => 23,
    1884 => 23,
    1880 => 22,
    1876 => 22,
    1872 => 22,
    1868 => 21,
    1864 => 21,
    1860 => 23,
    1856 => 23,
    1852 => 23,
    1848 => 23,
    1844 => 23,
    1840 => 21,
    1836 => 21,
    1832 => 21,
    1828 => 16,
    1824 => 16,
    1820 => 8,
    1816 => 8,
    1812 => 8,
    1808 => 3,
    1804 => 3
  );
  my %OK = (
    2028 => 7,
    2024 => 7,
    2020 => 7,
    2016 => 7,
    2012 => 7,
    2008 => 7,
    2004 => 7,
    2000 => 8,
    1996 => 8,
    1992 => 8,
    1988 => 8,
    1984 => 8,
    1980 => 8,
    1976 => 8,
    1972 => 8,
    1968 => 8,
    1964 => 8,
    1960 => 8,
    1956 => 8,
    1952 => 8,
    1948 => 10,
    1944 => 10,
    1940 => 11,
    1936 => 11,
    1932 => 11,
    1928 => 10,
    1924 => 10,
    1920 => 10,
    1916 => 10,
    1912 => 10,
    1908 => 7
  );
  my %OR = (
    2028 => 8,
    2024 => 8,
    2020 => 7,
    2016 => 7,
    2012 => 7,
    2008 => 7,
    2004 => 7,
    2000 => 7,
    1996 => 7,
    1992 => 7,
    1988 => 7,
    1984 => 7,
    1980 => 6,
    1976 => 6,
    1972 => 6,
    1968 => 6,
    1964 => 6,
    1960 => 6,
    1956 => 6,
    1952 => 6,
    1948 => 6,
    1944 => 6,
    1940 => 5,
    1936 => 5,
    1932 => 5,
    1928 => 5,
    1924 => 5,
    1920 => 5,
    1916 => 5,
    1912 => 5,
    1908 => 4,
    1904 => 4,
    1900 => 4,
    1896 => 4,
    1892 => 4,
    1888 => 3,
    1884 => 3,
    1880 => 3,
    1876 => 3,
    1872 => 3,
    1868 => 3,
    1864 => 3,
    1860 => 3
  );
  my %PA = (
    2028 => 19,
    2024 => 19,
    2020 => 20,
    2016 => 20,
    2012 => 20,
    2008 => 21,
    2004 => 21,
    2000 => 23,
    1996 => 23,
    1992 => 23,
    1988 => 25,
    1984 => 25,
    1980 => 27,
    1976 => 27,
    1972 => 27,
    1968 => 29,
    1964 => 29,
    1960 => 32,
    1956 => 32,
    1952 => 32,
    1948 => 35,
    1944 => 35,
    1940 => 36,
    1936 => 36,
    1932 => 36,
    1928 => 38,
    1924 => 38,
    1920 => 38,
    1916 => 38,
    1912 => 38,
    1908 => 34,
    1904 => 34,
    1900 => 32,
    1896 => 32,
    1892 => 32,
    1888 => 30,
    1884 => 30,
    1880 => 29,
    1876 => 29,
    1872 => 29,
    1868 => 26,
    1864 => 26,
    1860 => 27,
    1856 => 27,
    1852 => 27,
    1848 => 26,
    1844 => 26,
    1840 => 30,
    1836 => 30,
    1832 => 30,
    1828 => 28,
    1824 => 28,
    1820 => 25,
    1816 => 25,
    1812 => 25,
    1808 => 20,
    1804 => 20,
    1800 => 15,
    1796 => 15,
    1792 => 15,
    1788 => 10
  );
  my %RI = (
    2028 => 4,
    2024 => 4,
    2020 => 4,
    2016 => 4,
    2012 => 4,
    2008 => 4,
    2004 => 4,
    2000 => 4,
    1996 => 4,
    1992 => 4,
    1988 => 4,
    1984 => 4,
    1980 => 4,
    1976 => 4,
    1972 => 4,
    1968 => 4,
    1964 => 4,
    1960 => 4,
    1956 => 4,
    1952 => 4,
    1948 => 4,
    1944 => 4,
    1940 => 4,
    1936 => 4,
    1932 => 4,
    1928 => 5,
    1924 => 5,
    1920 => 5,
    1916 => 5,
    1912 => 5,
    1908 => 4,
    1904 => 4,
    1900 => 4,
    1896 => 4,
    1892 => 4,
    1888 => 4,
    1884 => 4,
    1880 => 4,
    1876 => 4,
    1872 => 4,
    1868 => 4,
    1864 => 4,
    1860 => 4,
    1856 => 4,
    1852 => 4,
    1848 => 4,
    1844 => 4,
    1840 => 4,
    1836 => 4,
    1832 => 4,
    1828 => 4,
    1824 => 4,
    1820 => 4,
    1816 => 4,
    1812 => 4,
    1808 => 4,
    1804 => 4,
    1800 => 4,
    1796 => 4,
    1792 => 4
  );
  my %SC = (
    2028 => 9,
    2024 => 9,
    2020 => 9,
    2016 => 9,
    2012 => 9,
    2008 => 8,
    2004 => 8,
    2000 => 8,
    1996 => 8,
    1992 => 8,
    1988 => 8,
    1984 => 8,
    1980 => 8,
    1976 => 8,
    1972 => 8,
    1968 => 8,
    1964 => 8,
    1960 => 8,
    1956 => 8,
    1952 => 8,
    1948 => 8,
    1944 => 8,
    1940 => 8,
    1936 => 8,
    1932 => 8,
    1928 => 9,
    1924 => 9,
    1920 => 9,
    1916 => 9,
    1912 => 9,
    1908 => 9,
    1904 => 9,
    1900 => 9,
    1896 => 9,
    1892 => 9,
    1888 => 9,
    1884 => 9,
    1880 => 7,
    1876 => 7,
    1872 => 7,
    1868 => 6,
    1860 => 8,
    1856 => 8,
    1852 => 8,
    1848 => 9,
    1844 => 9,
    1840 => 11,
    1836 => 11,
    1832 => 11,
    1828 => 11,
    1824 => 11,
    1820 => 11,
    1816 => 11,
    1812 => 11,
    1808 => 10,
    1804 => 10,
    1800 => 8,
    1796 => 8,
    1792 => 8,
    1788 => 7
  );
  my %SD = (
    2028 => 3,
    2024 => 3,
    2020 => 3,
    2016 => 3,
    2012 => 3,
    2008 => 3,
    2004 => 3,
    2000 => 3,
    1996 => 3,
    1992 => 3,
    1988 => 3,
    1984 => 3,
    1980 => 4,
    1976 => 4,
    1972 => 4,
    1968 => 4,
    1964 => 4,
    1960 => 4,
    1956 => 4,
    1952 => 4,
    1948 => 4,
    1944 => 4,
    1940 => 4,
    1936 => 4,
    1932 => 4,
    1928 => 5,
    1924 => 5,
    1920 => 5,
    1916 => 5,
    1912 => 5,
    1908 => 4,
    1904 => 4,
    1900 => 4,
    1896 => 4,
    1892 => 4
  );
  my %TN = (
    2028 => 11,
    2024 => 11,
    2020 => 11,
    2016 => 11,
    2012 => 11,
    2008 => 11,
    2004 => 11,
    2000 => 11,
    1996 => 11,
    1992 => 11,
    1988 => 11,
    1984 => 11,
    1980 => 10,
    1976 => 10,
    1972 => 10,
    1968 => 11,
    1964 => 11,
    1960 => 11,
    1956 => 11,
    1952 => 11,
    1948 => 12,
    1944 => 12,
    1940 => 11,
    1936 => 11,
    1932 => 11,
    1928 => 12,
    1924 => 12,
    1920 => 12,
    1916 => 12,
    1912 => 12,
    1908 => 12,
    1904 => 12,
    1900 => 12,
    1896 => 12,
    1892 => 12,
    1888 => 12,
    1884 => 12,
    1880 => 12,
    1876 => 12,
    1872 => 12,
    1868 => 10,
    1860 => 12,
    1856 => 12,
    1852 => 12,
    1848 => 13,
    1844 => 13,
    1840 => 15,
    1836 => 15,
    1832 => 15,
    1828 => 11,
    1824 => 11,
    1820 => 8,
    1816 => 8,
    1812 => 8,
    1808 => 5,
    1804 => 5,
    1800 => 3,
    1796 => 3
  );
  my %TX = (
    2028 => 40,
    2024 => 40,
    2020 => 38,
    2016 => 38,
    2012 => 38,
    2008 => 34,
    2004 => 34,
    2000 => 32,
    1996 => 32,
    1992 => 32,
    1988 => 29,
    1984 => 29,
    1980 => 26,
    1976 => 26,
    1972 => 26,
    1968 => 25,
    1964 => 25,
    1960 => 24,
    1956 => 24,
    1952 => 24,
    1948 => 23,
    1944 => 23,
    1940 => 23,
    1936 => 23,
    1932 => 23,
    1928 => 20,
    1924 => 20,
    1920 => 20,
    1916 => 20,
    1912 => 20,
    1908 => 18,
    1904 => 18,
    1900 => 15,
    1896 => 15,
    1892 => 15,
    1888 => 13,
    1884 => 13,
    1880 => 8,
    1876 => 8,
    1872 => 8,
    1860 => 4,
    1856 => 4,
    1852 => 4,
    1848 => 4
  );
  my %UT = (
    2028 => 6,
    2024 => 6,
    2020 => 6,
    2016 => 6,
    2012 => 6,
    2008 => 5,
    2004 => 5,
    2000 => 5,
    1996 => 5,
    1992 => 5,
    1988 => 5,
    1984 => 5,
    1980 => 4,
    1976 => 4,
    1972 => 4,
    1968 => 4,
    1964 => 4,
    1960 => 4,
    1956 => 4,
    1952 => 4,
    1948 => 4,
    1944 => 4,
    1940 => 4,
    1936 => 4,
    1932 => 4,
    1928 => 4,
    1924 => 4,
    1920 => 4,
    1916 => 4,
    1912 => 4,
    1908 => 3,
    1904 => 3,
    1900 => 3,
    1896 => 3
  );
  my %VA = (
    2028 => 13,
    2024 => 13,
    2020 => 13,
    2016 => 13,
    2012 => 13,
    2008 => 13,
    2004 => 13,
    2000 => 13,
    1996 => 13,
    1992 => 13,
    1988 => 12,
    1984 => 12,
    1980 => 12,
    1976 => 12,
    1972 => 12,
    1968 => 12,
    1964 => 12,
    1960 => 12,
    1956 => 12,
    1952 => 12,
    1948 => 11,
    1944 => 11,
    1940 => 11,
    1936 => 11,
    1932 => 11,
    1928 => 12,
    1924 => 12,
    1920 => 12,
    1916 => 12,
    1912 => 12,
    1908 => 12,
    1904 => 12,
    1900 => 12,
    1896 => 12,
    1892 => 12,
    1888 => 12,
    1884 => 12,
    1880 => 11,
    1876 => 11,
    1872 => 11,
    1860 => 15,
    1856 => 15,
    1852 => 15,
    1848 => 17,
    1844 => 17,
    1840 => 23,
    1836 => 23,
    1832 => 23,
    1828 => 24,
    1824 => 24,
    1820 => 25,
    1816 => 25,
    1812 => 25,
    1808 => 24,
    1804 => 24,
    1800 => 21,
    1796 => 21,
    1792 => 21,
    1788 => 12
  );
  my %VT = (
    2028 => 3,
    2024 => 3,
    2020 => 3,
    2016 => 3,
    2012 => 3,
    2008 => 3,
    2004 => 3,
    2000 => 3,
    1996 => 3,
    1992 => 3,
    1988 => 3,
    1984 => 3,
    1980 => 3,
    1976 => 3,
    1972 => 3,
    1968 => 3,
    1964 => 3,
    1960 => 3,
    1956 => 3,
    1952 => 3,
    1948 => 3,
    1944 => 3,
    1940 => 3,
    1936 => 3,
    1932 => 3,
    1928 => 4,
    1924 => 4,
    1920 => 4,
    1916 => 4,
    1912 => 4,
    1908 => 4,
    1904 => 4,
    1900 => 4,
    1896 => 4,
    1892 => 4,
    1888 => 4,
    1884 => 4,
    1880 => 5,
    1876 => 5,
    1872 => 5,
    1868 => 5,
    1864 => 5,
    1860 => 5,
    1856 => 5,
    1852 => 5,
    1848 => 6,
    1844 => 6,
    1840 => 7,
    1836 => 7,
    1832 => 7,
    1828 => 7,
    1824 => 7,
    1820 => 8,
    1816 => 8,
    1812 => 8,
    1808 => 6,
    1804 => 6,
    1800 => 4,
    1796 => 4,
    1792 => 4
  );
  my %WA = (
    2028 => 12,
    2024 => 12,
    2020 => 12,
    2016 => 12,
    2012 => 12,
    2008 => 11,
    2004 => 11,
    2000 => 11,
    1996 => 11,
    1992 => 11,
    1988 => 10,
    1984 => 10,
    1980 => 9,
    1976 => 9,
    1972 => 9,
    1968 => 9,
    1964 => 9,
    1960 => 9,
    1956 => 9,
    1952 => 9,
    1948 => 8,
    1944 => 8,
    1940 => 8,
    1936 => 8,
    1932 => 8,
    1928 => 7,
    1924 => 7,
    1920 => 7,
    1916 => 7,
    1912 => 7,
    1908 => 5,
    1904 => 5,
    1900 => 4,
    1896 => 4,
    1892 => 4
  );
  my %WI = (
    2028 => 10,
    2024 => 10,
    2020 => 10,
    2016 => 10,
    2012 => 10,
    2008 => 10,
    2004 => 10,
    2000 => 11,
    1996 => 11,
    1992 => 11,
    1988 => 11,
    1984 => 11,
    1980 => 11,
    1976 => 11,
    1972 => 11,
    1968 => 12,
    1964 => 12,
    1960 => 12,
    1956 => 12,
    1952 => 12,
    1948 => 12,
    1944 => 12,
    1940 => 12,
    1936 => 12,
    1932 => 12,
    1928 => 13,
    1924 => 13,
    1920 => 13,
    1916 => 13,
    1912 => 13,
    1908 => 13,
    1904 => 13,
    1900 => 12,
    1896 => 12,
    1892 => 12,
    1888 => 11,
    1884 => 11,
    1880 => 10,
    1876 => 10,
    1872 => 10,
    1868 => 8,
    1864 => 8,
    1860 => 5,
    1856 => 5,
    1852 => 5,
    1848 => 4
  );
  my %WV = (
    2028 => 4,
    2024 => 4,
    2020 => 5,
    2016 => 5,
    2012 => 5,
    2008 => 5,
    2004 => 5,
    2000 => 5,
    1996 => 5,
    1992 => 5,
    1988 => 6,
    1984 => 6,
    1980 => 6,
    1976 => 6,
    1972 => 6,
    1968 => 7,
    1964 => 7,
    1960 => 8,
    1956 => 8,
    1952 => 8,
    1948 => 8,
    1944 => 8,
    1940 => 8,
    1936 => 8,
    1932 => 8,
    1928 => 8,
    1924 => 8,
    1920 => 8,
    1916 => 8,
    1912 => 8,
    1908 => 7,
    1904 => 7,
    1900 => 6,
    1896 => 6,
    1892 => 6,
    1888 => 6,
    1884 => 6,
    1880 => 5,
    1876 => 5,
    1872 => 5,
    1868 => 5,
    1864 => 5
  );
  my %WY = (
    2028 => 3,
    2024 => 3,
    2020 => 3,
    2016 => 3,
    2012 => 3,
    2008 => 3,
    2004 => 3,
    2000 => 3,
    1996 => 3,
    1992 => 3,
    1988 => 3,
    1984 => 3,
    1980 => 3,
    1976 => 3,
    1972 => 3,
    1968 => 3,
    1964 => 3,
    1960 => 3,
    1956 => 3,
    1952 => 3,
    1948 => 3,
    1944 => 3,
    1940 => 3,
    1936 => 3,
    1932 => 3,
    1928 => 3,
    1924 => 3,
    1920 => 3,
    1916 => 3,
    1912 => 3,
    1908 => 3,
    1904 => 3,
    1900 => 3,
    1896 => 3,
    1892 => 3
  );
  my ($state, $year) = @_;
  my %histvalues;
  if ($state eq 'AK'){
    %histvalues = %AK; 
  } elsif ($state eq 'AL'){
    %histvalues = %AL;
  } elsif ($state eq 'AR'){
    %histvalues = %AR;
  } elsif ($state eq 'AZ'){
    %histvalues = %AZ;
  } elsif ($state eq 'CA'){
    %histvalues = %CA;
  } elsif ($state eq 'CO'){
    %histvalues = %CO;
  } elsif ($state eq 'CT'){
    %histvalues = %CT;
  } elsif ($state eq 'DC'){
    %histvalues = %DC;
  } elsif ($state eq 'DE'){
    %histvalues = %DE;
  } elsif ($state eq 'FL'){
    %histvalues = %FL;
  } elsif ($state eq 'GA'){
    %histvalues = %GA;
  } elsif ($state eq 'HI'){
    %histvalues = %HI;
  } elsif ($state eq 'IA'){
    %histvalues = %IA;
  } elsif ($state eq 'ID'){
    %histvalues = %ID;
  } elsif ($state eq 'IL'){
    %histvalues = %IL;
  } elsif ($state eq 'IN'){
    %histvalues = %IN;
  } elsif ($state eq 'KS'){
    %histvalues = %KS;
  } elsif ($state eq 'KY'){
    %histvalues = %KY;
  } elsif ($state eq 'LA'){
    %histvalues = %LA;
  } elsif ($state eq 'MA'){
    %histvalues = %MA;
  } elsif ($state eq 'MD'){
    %histvalues = %MD;
  } elsif ($state eq 'ME'){
    %histvalues = %ME;
  } elsif ($state eq 'ME1'){
    %histvalues = %ME1;
  } elsif ($state eq 'ME2'){
    %histvalues = %ME2;
  } elsif ($state eq 'MI'){
    %histvalues = %MI;
  } elsif ($state eq 'MN'){
    %histvalues = %MN;
  } elsif ($state eq 'MO'){
    %histvalues = %MO;
  } elsif ($state eq 'MS'){
    %histvalues = %MS;
  } elsif ($state eq 'MT'){
    %histvalues = %MT;
  } elsif ($state eq 'NC'){
    %histvalues = %NC;
  } elsif ($state eq 'ND'){
    %histvalues = %ND;
  } elsif ($state eq 'NE'){
    %histvalues = %NE;
  } elsif ($state eq 'NE1'){
    %histvalues = %NE1;
  } elsif ($state eq 'NE2'){
    %histvalues = %NE2;
  } elsif ($state eq 'NE3'){
    %histvalues = %NE3;
  } elsif ($state eq 'NH'){
    %histvalues = %NH;
  } elsif ($state eq 'NJ'){
    %histvalues = %NJ;
  } elsif ($state eq 'NM'){
    %histvalues = %NM;
  } elsif ($state eq 'NV'){
    %histvalues = %NV;
  } elsif ($state eq 'NY'){
    %histvalues = %NY;
  } elsif ($state eq 'OH'){
    %histvalues = %OH;
  } elsif ($state eq 'OK'){
    %histvalues = %OK; 
  } elsif ($state eq 'OR'){
    %histvalues = %OR;
  } elsif ($state eq 'PA'){
    %histvalues = %PA;
  } elsif ($state eq 'RI'){
    %histvalues = %RI;
  } elsif ($state eq 'SC'){
    %histvalues = %SC;
  } elsif ($state eq 'SD'){
    %histvalues = %SD;
  } elsif ($state eq 'TN'){
    %histvalues = %TN;
  } elsif ($state eq 'TX'){
    %histvalues = %TX;
  } elsif ($state eq 'UT'){
    %histvalues = %UT;
  } elsif ($state eq 'VA'){
    %histvalues = %VA;
  } elsif ($state eq 'VT'){
    %histvalues = %VT;
  } elsif ($state eq 'WA'){
    %histvalues = %WA;
  } elsif ($state eq 'WI'){
    %histvalues = %WI;
  } elsif ($state eq 'WV'){
    %histvalues = %WV;
  } elsif ($state eq 'WY'){
    %histvalues = %WY;
  } else {
    %histvalues = (all => 0);
  }
  if(exists $histvalues{$year}){
    return $histvalues{$year};
  } else {
    return 0;
  }
}

sub get_hvals {
  my $year = shift;
  my @states = ('AK','AL','AR','AZ','CA','CO','CT','DC','DE','FL','GA','HI','IA','ID','IL','IN','KS','KY','LA','MA','MD','ME','ME1','ME2','MI','MN','MO','MS','MT','NC','ND','NE','NE1','NE2','NE3','NH','NJ','NH','NM','NV','NY','OH','OK','OR','PA','RI','SC','SD','TN','TX','UT','VA','VT','WA','WI','WV','WY');
  my %hvals;
  my $votes;
  foreach my $x(0..$#states){
    $votes = get_histvalues($states[$x],$year);
    if ($votes != 0){
      $hvals{$states[$x]} = $votes;
    }
  }
  return %hvals;
}

sub get_parstates {
  my ($datfile,$sign) = @_;
  my @arr;
  open (DATA, "$datfile") || die "Cannot open data file\n";
  while(my $line = <DATA>){
    chomp($line);
    my @linearray = split(/:[\t]?/,$line);
    if($linearray[1] =~ /$sign/){
      push(@arr,$linearray[0]);
    } else {
      next;
    }
  }
  close (DATA);
  return @arr;
}

sub check_par {
 my ($states, $allstates) = @_;
 my $num;
 foreach my $xxy (0..$#$states){
   $num = 0;
   foreach my $xxz (0..$#$allstates){
     $num = 1 if ($$states[$xxy] eq $$allstates[$xxz]);
   }
   if($num == 1){
     next;
   } else {
     $$states[$xxy] = undef;
     next;
   }
 }
  my $nrosp = 0;
  foreach my $bb (0..$#$states){
    my $vali = $bb - $nrosp;
    if(defined $$states[$vali]){
      next;
    }else{
      splice(@$states,$vali,1);
      $nrosp++;
    }
  }
  my $mesum = 0;
  my $nesum = 0;
  my $me = 0; my $mea = 0; my $meb = 0; my $mex = 0; 
  my $ne = 0; my $nea = 0; my $neb = 0; my $nec = 0;
  foreach my $xxd (0..$#$states){
    $me  = 1 if $$states[$xxd] eq 'ME';
    $mea = 1 if $$states[$xxd] eq 'ME1';
    $meb = 1 if $$states[$xxd] eq 'ME2';
    $mex = 1 if $$states[$xxd] =~ /ME[0-9]{1}/;
    $ne  = 1 if $$states[$xxd] eq 'NE';
    $nea = 1 if $$states[$xxd] eq 'NE1';
    $neb = 1 if $$states[$xxd] eq 'NE2';
    $nec = 1 if $$states[$xxd] eq 'NE3';
  }
  $nesum += 1 if $nec == 1;
  $nesum += 2 if $neb == 1;
  $nesum += 4 if $nea == 1;
  $nesum += 8 if $ne  == 1;
  $mesum += 1 if $meb == 1;
  $mesum += 2 if $mea == 1;
  $mesum += 4 if $me  == 1;
  return ($mesum,$nesum,$me,$mea,$meb,$mex,$ne,$nea,$neb,$nec);
}

sub check_states {
 my @states = @_;
 my @states_sorted = sort { $a cmp $b } @states;
 my $end = $#states_sorted - 1;
 my $y;
 foreach my $x (0..$end){
  $y = $x + 1;
  if ( $states_sorted[$x] =~ /$states_sorted[$y]/ ){
   print "Two states identical: $states_sorted[$x] and $states_sorted[$y]\n";
   exit;
  }
 }
}

# Combine 'D' and 'R' states/districts, calculate ME/NE values
sub get_closedstates {
 my ($arr1,$arr2,$ifme,$ifmea,$ifmeb,$ifne,$ifnea,$ifneb,$ifnec,$mesum,$nesum,$year) = @_;
 my @outarr;
 my @inarr = (@$arr1, @$arr2);
 $$ifme = 0;
 $$ifmea = 0;
 $$ifmeb = 0;
 $$ifne = 0;
 $$ifnea = 0;
 $$ifneb = 0;
 $$ifnec = 0;
 foreach my $xa (0..$#inarr){
  $$ifme  = 4 if ($inarr[$xa] eq 'ME' and $year >= 1972);
  $$ifme  = 7 if ($inarr[$xa] eq 'ME' and $year < 1972);
  $$ifmea = 2 if ($inarr[$xa] eq 'ME1' and $year >= 1972);
  $$ifmea = undef if $year < 1972; 
  $$ifmeb = 1 if ($inarr[$xa] eq 'ME2' and $year >= 1972);
  $$ifmeb = undef if $year < 1972;
  $$ifne  = 8 if ($inarr[$xa] eq 'NE' and $year >= 1992);
  $$ifne  = 15 if ($inarr[$xa] eq 'NE' and $year < 1992);
  $$ifnea = 4 if ($inarr[$xa] eq 'NE1' and $year >= 1992);
  $$ifnea = undef if $year < 1992;
  $$ifneb = 2 if ($inarr[$xa] eq 'NE2' and $year >= 1992);
  $$ifneb = undef if $year < 1992;
  $$ifnec = 1 if ($inarr[$xa] eq 'NE3' and $year >= 1992);
  $$ifnec = undef if $year < 1992;
 }
 if($year >= 1972){
  $$mesum = $$ifme + $$ifmea + $$ifmeb;
 } else {
  $$mesum = $$ifme;
 }
 if($year >= 1992){
  $$nesum = $$ifne + $$ifnea + $$ifneb + $$ifnec;
 } else {
  $$nesum = $$ifne;
 }
 @outarr = sort { $a cmp $b } @inarr;
 return @outarr;
}

# Describe open states/districts
sub get_openstates {
  my ($statevals,$allstates,$closedstates,$swingsts,$openvalx) = @_;
  my $var;
  foreach my $sx (0..$#$allstates) {
    $var = 0;
    foreach my $cx (0..$#$closedstates){
      if ( $$allstates[$sx] eq $$closedstates[$cx] ){
        $var = 1;
        last;
      }else{
        next;
      }
    }
    if ($var == 0){
      push (@$swingsts,$$allstates[$sx]);
      push (@$openvalx,$$statevals{$$allstates[$sx]});
    }
  }
}

# get safe values
sub get_safeval {
  my ($statevals,$parstates) = @_;
  my $val = 0;
  foreach my $x (0..$#$parstates) {
    $val += $$statevals{$$parstates[$x]};
  }
  return $val;
}

#  get number of open electors
sub get_swingperm {
  my ($statevals,$swingsts,$nrop) = @_;
  my $numm = 0;
  foreach my $x (0..$#$swingsts){
    $numm += $$statevals{$$swingsts[$x]};
    $$nrop *= 2;
  }
  return $numm;
}

# Write numbers with commas (as 1,000 separator)
sub commify {
 my $text = $_[0];
 $text =~ /([0-9]*)/;
 my $before = $1;
 my $erofeb = reverse $before;
 $erofeb =~ s/(\d\d\d)(?=\d)(?!\d*\.)/$1\,/g;
 my $befored = scalar reverse $erofeb;
 my $res = sprintf("% 26s",$befored);
 return $res;
}

# sort states alphabetically
sub sort_states {
  my @states = @_;
  my @states_sorted = sort { $a cmp $b } @states;
  my $statestring = join(' ',@states_sorted);
  return $statestring;
}

# Delete Maine and Nebraska from Open State List
sub delete_mainenebraska {
 my @inarr = @_;
 my $half = ($#inarr + 1)/2 - 1;
 my $halfpo = $half + 1;
 my @states = @inarr[0..$half];
 my @num = @inarr[$halfpo..$#inarr];
 my @outarr;
 foreach my $xxc (0..$#states){
   push(@outarr,$num[$xxc]) unless $states[$xxc] =~ /[MN]{1}E/;
 }
 return @outarr;
}

# Build original matrix to calculate uncorrected probabilities
sub build_mat {
 my ($j,$N,$ds,$messum,$nessum,$openvals,$year) = @_;
 my @mainenebraskamat = mene($$messum[0], $$nessum[0], $$messum[1], $$nessum[1], $$messum[2], $$nessum[2],$year);
 my $z = $#mainenebraskamat;
 my @ref;
 my $dumvar;
 my $dummvar;
 my $t = $N + 1;
 my $k = $j - 1;
 foreach my $y (0..$N){
  if ($y >= $ds and $y <= ($ds + $z)){
   $ref[$y] = $mainenebraskamat[$y-$ds];
  }else{
   $ref[$y] = 0;
  }
 }
 foreach my $x (1..$j){
  foreach my $y (0..$N){
   if(($y - $$openvals[$x-1]) >= 0){
    $ref[$x*$t+$y] = $ref[($x-1)*$t+$y] + $ref[($x-1)*$t+($y-$$openvals[$x-1])];
   }else{
    $ref[$x*$t+$y] = $ref[($x-1)*$t+$y];
   }
  }
 }
return(@ref);
}

# Calculate ME/NE matrix
sub mene {
 my ($mes, $nes, $dmes, $dnes, $rmes, $rnes, $year) = @_;
 my @memat = maine($mes, $dmes, $rmes, $year);
 my @nemat = nebraska($nes, $dnes, $rnes, $year);
 my @menemat;
 my $up = $#memat + $#nemat;
 my $max;
 my $rem;
 foreach my $zv (0..$up){
  $max = min($#memat,$zv);
  $menemat[$zv] = 0;
  foreach my $zw (0..$max){
   $rem = $zv - $zw;
   $menemat[$zv] += ($memat[$zw] * $nemat[$rem]) unless ($rem < 0 or $rem > $#nemat);
  }
 }
 return(@menemat);
}

# Maine Matrix (historically)
sub maine {
  my ($mes, $dmes, $rmes, $year) = @_;
  my @memat;
  if ($year % 4 == 0){
    if ($year >= 1972){
      @memat = (1) if $mes == 7;
      @memat = (1,1) if ($mes == 5 or $mes == 6);
      @memat = (1,2,1) if $mes == 4;
      @memat = (0,0,1) if ($mes == 3 and $dmes == 3);
      @memat = (1,0.0) if ($mes == 3 and $dmes == 0);
      @memat = (1,0,1) if ($mes == 3 and $dmes < 3 and $dmes > 0);
      @memat = (1,0,1,1) if (($mes == 1 and $dmes == 1) or ($mes == 2 and $dmes == 2));
      @memat = (1,1,0,1) if (($mes == 1 and $dmes == 0) or ($mes == 2 and $dmes == 0));
      @memat = (1,2,0,2,1) if $mes == 0;
    } elsif ($year >= 1964){
      @memat = (1) if $mes == 7;
      @memat = (1,0,0,0,1) if $mes == 0;
    } elsif ($year >= 1932){
      @memat = (1) if $mes == 7;
      @memat = (1,0,0,0,0,1) if $mes == 0;
    } elsif ($year >= 1884){
      @memat = (1) if $mes == 7;
      @memat = (1,0,0,0,0,0,1) if $mes == 0;
    } elsif ($year >= 1864){
      @memat = (1) if $mes == 7;
      @memat = (1,0,0,0,0,0,0,1) if $mes == 0;
    } elsif ($year >= 1852){
      @memat = (1) if $mes == 7;
      @memat = (1,0,0,0,0,0,0,0,1) if $mes == 0;
    } elsif ($year >= 1844){
      @memat = (1) if $mes == 7;
      @memat = (1,0,0,0,0,0,0,0,0,1) if $mes == 0;
    } elsif ($year >= 1832){
      @memat = (1) if $mes == 7;
      @memat = (1,0,0,0,0,0,0,0,0,0,1) if $mes == 0;
    } elsif ($year >= 1820){
      @memat = (1) if $mes == 7;
      @memat = (1,0,0,0,0,0,0,0,0,1) if $mes == 0;
    } else {
      @memat = (1);
    }
  } else {
    print "No presidential election in the year $year\n";
    exit;    
  }
  return @memat;
}

sub nebraska {
  my ($nes, $dnes, $rnes, $year) = @_;
  my @nemat;
  if($year % 4 == 0){
    if ($year >= 1992){
      @nemat = (1) if $nes == 15;
      @nemat = (1,1) if ($nes == 11 or $nes == 13 or $nes == 14);
      @nemat = (1,2,1) if ($nes == 9 or $nes == 10 or $nes == 12);
      @nemat = (1,3,3,1) if $nes == 8;
      @nemat = (0,0,1) if ($nes == 7 and $dnes == 7);
      @nemat = (1,0,0) if ($nes == 7 and $dnes == 0);
      @nemat = (1,0,1) if ($nes == 7 and $dnes < 7 and $dnes > 0);
      @nemat = (1,0,1,1) if (($nes == 3 and $dnes == 3) or ($nes == 5 and $dnes == 5) or ($nes == 6 and $dnes == 6));
      @nemat = (1,1,0,0) if (($nes == 3 and $dnes == 0) or ($nes == 5 and $dnes == 0) or ($nes == 6 and $dnes == 0));
      @nemat = (1,1,1,1) if (($nes == 3 and $dnes < 3 and $dnes > 0) or ($nes == 5 and $dnes < 5 and $dnes > 0) or ($nes == 6 and $dnes < 6 and $dnes > 0));
      @nemat = (1,1,1,1,1) if ($nes == 1 or $nes == 2 or $nes == 4);
      @nemat = (1,3,3,3,3,1) if $nes == 0;
    } elsif ($year >= 1964){
      @nemat = (1) if $nes == 15;
      @nemat = (1,0,0,0,0,1) if $nes == 0;
    } elsif ($year >= 1944){
      @nemat = (1) if $nes == 15;
      @nemat = (1,0,0,0,0,0,1) if $nes == 0;
    } elsif ($year >= 1932){
      @nemat = (1) if $nes == 15;
      @nemat = (1,0,0,0,0,0,0,1) if $nes == 0;
    } elsif ($year >= 1892){
      @nemat = (1) if $nes == 15;
      @nemat = (1,0,0,0,0,0,0,0,1) if $nes == 0;
    } elsif ($year >= 1884){
      @nemat = (1) if $nes == 15;
      @nemat = (1,0,0,0,0,1) if $nes == 0;
    } elsif ($year >= 1868){
      @nemat = (1) if $nes == 15;
      @nemat = (1,0,0,1) if $nes == 0;
    } else {
      @nemat = (1);
    }
  } else {
    print "No presidential election in the year $year\n";
    exit;    
  }
  return @nemat;
}

# Build result matrix with uncorrected probabilities
sub result_mat {
 my ($inarr,$sx,$total) = @_;
 my @outarr;
 my $dsum;
 my $rsum;
 my $tsum;
 my $needed; my $tie; my $maxloss;
 if ($total % 2 == 0){
   $needed = ($total / 2) +  1;
   $tie = ($total / 2);
   $maxloss = ($total / 2) - 1;
 } else {
   $needed = ($total / 2) + 0.5;
   $tie = undef;
   $maxloss = ($total / 2) - 0.5;
 }
 $dsum = 0;
 $rsum = 0;
 $tsum = 0;
 foreach my $x (0..$maxloss) {
    $rsum += $$inarr[($sx+1)*($total+1)+$x];
 }
 if(defined $tie){
    $tsum = $$inarr[($sx+1)*($total + 1)+$tie];
 } else {
    $tsum = 0;
 }
 foreach my $x ($needed..$total) {
  $dsum += $$inarr[($sx+1)*($total + 1)+$x];
 }
 my $tot = $rsum + $tsum + $dsum;
 @outarr = ($rsum,$tsum,$dsum,$tot);
 return(@outarr);
}


1;